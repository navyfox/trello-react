import React, { Component } from 'react';import ItemComments from "./ItemComments";class Comment extends Component {    constructor(props) {        super(props);        this.state = {            value: "",            noDelete: true,        };        this.handleChange = this.handleChange.bind(this);        this.handleSubmit = this.handleSubmit.bind(this);        this.deleteComment = this.deleteComment.bind(this);    }    handleChange (event) {        this.setState({value: event.target.value});    }    handleSubmit () {        var returnObj = JSON.parse(localStorage.getItem("key"));        if (returnObj.task[this.props.modalIndexItem].comments === undefined) {            returnObj.task[this.props.modalIndexItem].comments = [];            returnObj.task[this.props.modalIndexItem].comments.push(this.state.value);        } else  {            returnObj.task[this.props.modalIndexItem].comments.unshift(this.state.value);        }        var newSerialObj = JSON.stringify(returnObj);        localStorage.setItem("key", newSerialObj);        this.setState({value: ""});    }    deleteComment (index) {        var returnObj = JSON.parse(localStorage.getItem("key"));        returnObj.task[this.props.modalIndexItem].comments.splice(index, 1);        var newSerialObj = JSON.stringify(returnObj);        console.log(newSerialObj);        localStorage.setItem("key", newSerialObj);        this.setState({noDelete: !this.state.noDelete});    }    render () {        var arr = JSON.parse(localStorage.getItem("key")).task[this.props.modalIndexItem].comments;        if (arr === undefined) {            arr = [];        }        return (            <div className="list">                <ul>                    <li className="text-area"><textarea                        name="description"                        onChange={this.handleChange}                        value={this.state.value}                        />                </li>                </ul>                <footer>                    <input value="Add" type="submit" onClick={this.handleSubmit}/>                </footer>                {arr.map((item, index) => <div className="comment" key={index}><h4>{item}</h4><a className="comment_link" onClick={() => this.deleteComment(index)}>DELETE</a></div>)}                {/*{arr.map((item, index) => <ItemComments key={index} modalIndexItem={this.props.modalIndexItem} item={item} index={index}/>)}*/}            </div>        );    }}export default Comment;